@{
    PageData["title"] = "GuessIt Soccer | League Games";
}
<body ng-controller="AdminGameCtrl">
    <h2>Games</h2>
    <table class="table table-striped table-hover">
        <tbody>
            <tr ng-repeat="game in games">
                
                <td>
                    <h4>{{game.HomeTeam.Name}} vs {{game.AwayTeam.Name}}</h4>
                    <h5>{{game.MatchDate.toLocaleString()}}</h5>
                    <button ng-click="editGame(game)" class="btn btn-default">Edit</button>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="row" ng-hide="isEditing">
        <form class="col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4" ng-submit="addNewGame()">
            <h2 class="text-center">New Game</h2>
            <div class="form-box">
                <div class="form-group">
                    <label for="team1Select">Home Team</label>
                    <select name="team1Select" ng-model="newGame.HomeTeam" ng-options="team.Name for team in teams" required></select>
                </div>
                <div class="form-group">
                    <label for="team2Select">Away Team</label>
                    <select name="team2Select" ng-model="newGame.AwayTeam" ng-options="team.Name for team in teams" required></select>
                </div>
                <div style="display:inline-block; min-height:290px;">
                    <label for="creatingCalendar">Match Date</label>
                    <datepicker name="creatingCalendar" ng-model="newGame.MatchDate" min-date="minDate" show-weeks="false" class="well well-sm"></datepicker>
                </div>
                <div class="form-group">
                    <button class="btn btn-primary btn-block" type="submit" ng-disabled="!(newGame.HomeTeam && newGame.AwayTeam)" disabled>Add Game</button>
                </div>
            </div>
        </form>
    </div>
    <div class="row" ng-show="isEditing">
        <form class="col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4" ng-submit="updateGame()">
            <h2 class="text-center">Edit Game</h2>
            <div class="form-box">
                <div class="form-group">
                    <label for="editingTeam1Select">Home Team</label>
                    <select name="editingTeam1Select" ng-model="gameForUpdate.HomeTeam" ng-options="team.Name for team in teams" required></select>
                </div>
                <div class="form-group">
                    <label for="editingTeam2Select">Away Team</label>
                    <select name="editingTeam2Select" ng-model="gameForUpdate.AwayTeam" ng-options="team.Name for team in teams" required></select>
                </div>
                <div style="display:inline-block; min-height:290px;">
                    <label for="editingCalendar">Match Date</label>
                    <datepicker name="editingCalendar" ng-model="gameForUpdate.MatchDate" min-date="minDate" show-weeks="false" class="well well-sm"></datepicker>
                </div>
                <div class="form-group">
                    <button class="btn btn-primary btn-block" type="submit">Save</button>
                    <button class="btn btn-primary btn-block" type="button" ng-click="cancelEditGame()">Cancel</button>
                </div>
            </div>
        </form>
    </div>
</body>
